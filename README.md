# remap_regions_register

> ⚠️ *This README was automatically generated by a Large Language Model (LLM) and should be manually reviewed for accuracy* ⚠️

## Overview

The `remap_regions_register` package provides a class, `RegionsRegister`, designed for managing spatial regions within a robotic system. It allows users to dynamically register, query, and remove regions in a thread-safe manner, ensuring efficient management of spatial areas.

## Features
- **Thread-Safe Region Management**: Uses a recursive mutex to manage concurrent modifications.
- **Dynamic Area Registration**: Assigns unique IDs to new region groups.
- **Region Querying**: Provides functions to retrieve regions by ID or find registered regions.
- **Region Removal**: Allows the removal of individual regions while maintaining consistency.
- **Debugging Tools**: Methods for printing and tracking registered regions.

## Installation
Clone the repository and integrate it into your ROS 2 workspace:
```sh
cd ~/ros2_ws/src
git clone <repository_url>
cd ~/ros2_ws
colcon build --packages-select remap_regions_register
source install/setup.bash
```

## Usage
### Include the Header
To use `RegionsRegister` in your project, include the header file:
```cpp
#include "remap_regions_register/regions_register.hpp"
```

### Creating an Instance
```cpp
#include "remap_regions_register/regions_register.hpp"

remap::regions_register::RegionsRegister regions_register(true); // Enable threading
```

### Adding a Region
```cpp
std::vector<std::string> region_names = {"Room1", "Room2"};
int region_id = regions_register.addArea(region_names);
```

### Removing a Region
```cpp
std::map<int, int> updated_ids = regions_register.removeRegion("Room1");
```

### Finding Regions
Find region ID by names:
```cpp
int id = regions_register.findRegions({"Room2"});
```
Find region names by ID:
```cpp
std::vector<std::string> names = regions_register.findRegionsById(id);
```

### Debugging
Print all registered areas:
```cpp
regions_register.print();
```
Get the number of registered regions:
```cpp
int num_regions = regions_register.getRegionsNumber();
```

## API Reference
### Class: `RegionsRegister`
#### Constructor
```cpp
explicit RegionsRegister(const bool & threaded);
```
- **threaded**: Whether to enable thread safety.

#### Methods
- `int addArea(const std::vector<std::string> & regs);`  
  Registers a new area and returns its unique ID.
- `std::map<int, int> removeRegion(const std::string & reg);`  
  Removes a region and updates associated IDs.
- `int findRegions(const std::vector<std::string> & regs) const;`  
  Finds a region ID by names.
- `std::vector<std::string> findRegionsById(const int & id) const;`  
  Retrieves the names of a region by ID.
- `void clear();`  
  Clears all registered areas.
- `int getRegionsNumber() const;`  
  Returns the number of registered areas.
- `void print() const;`  
  Prints all registered regions.
- `int getId() const;`  
  Returns the last assigned region ID.
- `std::vector<std::string> getInstances() const;`  
  Retrieves all unique region instances.

## License
This package is licensed under the Apache License 2.0. See [LICENSE](LICENSE) for details.

## Authors
Developed by **PAL Robotics, S.L.**

